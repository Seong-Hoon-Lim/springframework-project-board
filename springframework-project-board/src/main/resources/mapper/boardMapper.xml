<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.example.springframeworkprojectboard.mapper.BoardMapper">

    <insert id="save">
        insert into spring_board.board (`member_id`, `member_name`, `title`, `content`, `hit`, `ip`, `ripple_count`, `file_name`, `file_size`, `created_at`)
        values (#{memberId}, #{memberName}, #{title}, #{content}, 0, #{ip}, 0, #{fileName}, #{fileSize}, now())
    </insert>

    <select id="findList" resultType="com.example.springframeworkprojectboard.domain.Board">
        select * from spring_board.board order by `id` desc
    </select>

    <select id="findBoardByBoardId" resultType="com.example.springframeworkprojectboard.domain.Board">
        select * from spring_board.board where `id` = #{id}
    </select>

    <update id="update">
        update spring_board.board set `title` = #{title}, `content` = #{content}, `ip` = #{ip}, `file_name` = #{fileName}, `file_size` = #{fileSize}, `updated_at` = now() where `id` = #{id}
    </update>

    <delete id="deleteBoardByBoardId">
        delete from spring_board.board where `id` = #{id}
    </delete>

</mapper>